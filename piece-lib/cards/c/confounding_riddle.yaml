name: Confounding Riddle
typeline: Instant
cost:
  mana_cost: '{2}{U}'
modes:
  modes:
    - oracle_text:
        Look at the top four cards of your library. Put one of them into your
        hand and the rest into your graveyard.
      effect: !SelectTopOfLibrary
        count:
          count: !Fixed
            count: 4
    - oracle_text: Counter target spell unless its controller pays {4}.
      effect: !SelectTargets
        count:
          count: !Fixed
            count: 1
        restrictions:
          - restriction: !Location
              locations: In Stack
effects:
  - effect: !Modal
      modes:
        - oracle_text:
            Look at the top four cards of your library. Put one of them into
            your hand and the rest into your graveyard.
          effect: !SelectDestinations
            destinations:
              - destination: !MoveToHand {}
                count: 1
              - destination: !MoveToGraveyard {}
                count: 3
        - oracle_text: Counter target spell unless its controller pays {4}.
          effect: !PushSelected {}
  - effect: !Modal
      modes:
        - effect: !Nothing {}
        - effect: !SelectTargetController {}
  - effect: !Modal
      modes:
        - effect: !Nothing {}
        - effect: !PayCosts
            or_else:
              effects:
                - effect: !PopSelected {}
                - effect: !CounterSpell {}
            pay_costs:
              - cost: !PayMana
                  paying: '{4}'
