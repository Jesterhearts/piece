syntax = "proto3";

package triggers;

import "targets.proto";
import "types.proto";

enum Location {
  ANYWHERE = 0;
  BATTLEFIELD = 1;
  HAND = 2;
  LIBRARY = 3;
}

enum TriggerSource {
  ABILITY_ACTIVATED = 0;
  ATTACKS = 1;
  CAST = 2;
  DEALS_COMBAT_DAMAGE_TO_PLAYER = 3;
  END_STEP = 4;
  ENTERS_THE_BATTLEFIELD = 5;
  EXILED_DURING_CRAFT = 6;
  ONE_OR_MORE_TAPPED = 7;
  PRE_COMBAT_MAIN_PHASE = 8;
  PUT_INTO_GRAVEYARD = 9;
  START_OF_COMBAT = 10;
  TAPPED = 11;
  TARGETED = 12;
  UPKEEP = 13;
}

message Trigger {
  TriggerSource source = 1;
  Location from = 2;
  repeated targets.Restriction restrictions = 3;
}